---
sidebar: sidebar 
permalink: trident-use/trident-aws-addon.html 
keywords: Trident add-on, Trident EKS add-on, Trident AWS EKS add-on, integrate Trident, Trident 
summary: Ajouter le module complémentaire Trident EKS au cluster Kubernetes. 
---
= Configurez le module complémentaire Trident EKS sur un cluster EKS.
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
NetApp Trident simplifie la gestion du stockage Amazon FSx for NetApp ONTAP dans Kubernetes afin de permettre à vos développeurs et administrateurs de se concentrer sur le déploiement des applications.  Le module complémentaire NetApp Trident EKS inclut les derniers correctifs de sécurité et de bogues, et est validé par AWS pour fonctionner avec Amazon EKS.  Le module complémentaire EKS vous permet de garantir en permanence la sécurité et la stabilité de vos clusters Amazon EKS et de réduire le travail nécessaire à l'installation, à la configuration et à la mise à jour des modules complémentaires.



== Prérequis

Assurez-vous de disposer des éléments suivants avant de configurer le module complémentaire Trident pour AWS EKS :

* Un compte de cluster Amazon EKS disposant des autorisations nécessaires pour utiliser des modules complémentaires. Se référer àlink:https://docs.aws.amazon.com/eks/latest/userguide/eks-add-ons.html["Modules complémentaires Amazon EKS"^] .
* Autorisations AWS pour la place de marché AWS :
`"aws-marketplace:ViewSubscriptions",
"aws-marketplace:Subscribe",
"aws-marketplace:Unsubscribe`
* Type d'AMI : Amazon Linux 2 (AL2_x86_64) ou Amazon Linux 2 Arm (AL2_ARM_64)
* Type de nœud : AMD ou ARM
* Un système de fichiers Amazon FSx for NetApp ONTAP




== Étapes

. Veillez à créer un rôle IAM et un secret AWS pour permettre aux pods EKS d'accéder aux ressources AWS.  Pour les instructions, voirlink:../trident-use/trident-fsx-iam-role.html["Créez un rôle IAM et un secret AWS."^] .
. Sur votre cluster Kubernetes EKS, accédez à l'onglet *Modules complémentaires*.
+
image::../media/aws-eks-01.png[aws eks 01]

. Accédez à *AWS Marketplace add-ons* et choisissez la catégorie _stockage_.
+
image::../media/aws-eks-02.png[aws eks 02]

. Localisez * NetApp Trident* et cochez la case correspondant au module complémentaire Trident , puis cliquez sur *Suivant*.
. Choisissez la version souhaitée du module complémentaire.
+
image::../media/aws-eks-03.png[aws eks 03]

. Configurez les paramètres du module complémentaire requis.
+
image::../media/aws-eks-04.png[aws eks 04]

. Si vous utilisez IRSA (rôles IAM pour compte de service), reportez-vous aux étapes de configuration supplémentaires.link:https://docs.netapp.com/us-en/trident/trident-use/trident-fsx-install-trident.html#enable-the-trident-add-on-for-aws["ici"] .
. Sélectionnez *Créer*.
. Vérifiez que le statut du module complémentaire est _Actif_.
+
image::../media/aws-eks-05.png[aws eks 05]

. Exécutez la commande suivante pour vérifier que Trident est correctement installé sur le cluster :
+
[listing]
----
kubectl get pods -n trident
----
. Poursuivez l'installation et configurez le système de stockage. Pour plus d'informations, voirlink:../trident-use/trident-fsx-storage-backend.html["Configurer le système de stockage dorsal"^] .




== Installez/désinstallez l'extension Trident EKS via l'interface de ligne de commande (CLI).

.Installez le module complémentaire NetApp Trident EKS à l'aide de l'interface de ligne de commande :
La commande suivante permet d'installer le module complémentaire Trident EKS :
`eksctl create addon --cluster clusterName --name netapp_trident-operator --version v25.6.0-eksbuild.1` (avec une version dédiée)

.Désinstallez le module complémentaire NetApp Trident EKS à l'aide de l'interface de ligne de commande :
La commande suivante désinstalle le module complémentaire Trident EKS :

[listing]
----
eksctl delete addon --cluster K8s-arm --name netapp_trident-operator
----